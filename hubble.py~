import pylab      as     pl
import pandas     as     pd
import numpy      as     np

from   matplotlib import pyplot as plt
from   scipy      import stats


def xkcd_plot():
  plt.xkcd()

  fig = plt.figure()
  ax  = fig.add_subplot(1, 1, 1)

  ax.spines['right'].set_color('none')
  ax.spines['top'].set_color('none')

  # plt.xticks([])
  # plt.yticks([])

  return  fig, ax


if __name__ == '__main__':
  fig, ax = xkcd_plot()

  dat = pd.read_csv('hubble.dat', sep='\s+', comment='#', names=['Object', 'r', 'v'])

  print(dat)
  
  ax.plot(dat['r'], dat['v'], '-', c='k', marker='*', lw=0)

  # 
  slope, intercept, r_value, p_value, std_err = stats.linregress(dat['r'],dat['v'])

  print(slope, intercept, r_value, p_value, std_err)
  
  ax.set_xlabel('Distance from us [Mpc]')
  ax.set_ylabel('Recession velocity [km/s]')

  plt.tight_layout()
  
  plt.show()
